(function(t){function e(e){for(var o,a,l=e[0],r=e[1],c=e[2],p=0,d=[];p<l.length;p++)a=l[p],Object.prototype.hasOwnProperty.call(s,a)&&s[a]&&d.push(s[a][0]),s[a]=0;for(o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o]);u&&u(e);while(d.length)d.shift()();return i.push.apply(i,c||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],o=!0,l=1;l<n.length;l++){var r=n[l];0!==s[r]&&(o=!1)}o&&(i.splice(e--,1),t=a(a.s=n[0]))}return t}var o={},s={app:0},i=[];function a(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=o,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)a.d(n,o,function(e){return t[e]}.bind(null,o));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],r=l.push.bind(l);l.push=e,l=l.slice();for(var c=0;c<l.length;c++)e(l[c]);var u=r;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"00f3":function(t,e,n){},2019:function(t,e,n){},2911:function(t,e,n){"use strict";n("c713")},"2aac":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("2b0e"),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},i=[],a=(n("5c0b"),n("2877")),l={},r=Object(a["a"])(l,s,i,!1,null,null,null),c=r.exports,u=n("8c4f"),p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[t.loginStatus?n("div",{attrs:{id:"loginShow"}},[n("h1",[t._v("L-BLOG")]),n("button",{attrs:{id:"logout"},on:{click:t.logout}},[t._v("Logout")]),n("div",{staticClass:"main"},[n("new-blog"),n("view-blog")],1)]):t._e()])},d=[],g=n("2b27"),f=n.n(g),m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"new"},[n("h2",[t._v("New Blog")]),n("p",{staticClass:"title"},[t._v("Title")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],attrs:{type:"text"},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}}),n("p",{staticClass:"title"},[t._v("Content")]),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.content,expression:"content"}],attrs:{name:"",id:"textarea",cols:"30",rows:"10"},domProps:{value:t.content},on:{input:function(e){e.target.composing||(t.content=e.target.value)}}}),n("br"),n("br"),n("button",{on:{click:t.NewBlog}},[t._v("submit")])])},v=[],b=n("bc3a"),h=n.n(b),_={name:"new-blog",data:function(){return{title:"",content:"",user_id:"",newBlog:""}},methods:{NewBlog:function(){var t=this;h.a.request({url:"http://lblog.ml/api/blog",method:"POST",headers:{"Content-Type":"application/json"},data:{title:this.title,content:this.content,token:f.a.get("loginToken")}}).then((function(e){console.log(e.data),t.newBlog=e.data,t.$store.commit("fakeAdd",t.newBlog)})).catch((function(t){console.log(t)}))}}},w=_,k=(n("2911"),Object(a["a"])(w,m,v,!1,null,"bdd93aa4",null)),y=k.exports,C=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"view"},t._l(t.blogs,(function(t){return n("single-blog",{key:t[3],attrs:{blog:t}})})),1)},x=[],O=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"single"},[n("div",{staticClass:"title"},[n("p",{staticClass:"tit-title"},[t._v("Title:")]),n("p",{staticClass:"tit-con"},[t._v(t._s(t.blog.title))])]),n("div",{staticClass:"content"},[n("p",{staticClass:"con-con"},[t._v(t._s(t.blog.content))])]),n("div",{staticClass:"user"},[n("p",{staticClass:"user-title"},[t._v("Writer :")]),n("p",{staticClass:"user-con"},[t._v(t._s(t.blog.username))])]),n("div",{staticClass:"time"},[n("p",{staticClass:"time-title"},[t._v("Created at :")]),n("p",{staticClass:"time-con"},[t._v(t._s(t.blog.created_at))])]),t.if_owener?n("div",{staticClass:"modify"},[n("button",{on:{click:t.IfEdit}},[t._v("edit")]),n("div",{staticClass:"delete"},[n("delete-blog",{attrs:{blog:t.blog}})],1),n("br"),t.if_edit?n("edit-blog",{attrs:{blog:t.blog},on:{editShow:t.closeEdit}}):t._e()],1):t._e()])},j=[],S=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("button",{on:{click:t.deleteBlog}},[t._v("Delete")])])},$=[],T=(n("a434"),{name:"delete-blog",props:{blog:{type:Object,requried:!0}},methods:{deleteBlog:function(){var t=this;console.log(this.blog.id),h.a.request({url:"http://lblog.ml/api/blog",method:"DELETE",headers:{"Content-Type":"application/json"},data:{blog_id:this.blog.id,token:f.a.get("loginToken")}}).then((function(e){console.log(e.data);for(var n=0;n<t.$store.state.blogs.length;n++)t.$store.state.blogs[n].id==t.blog.id&&t.$store.state.blogs.splice(n,1)})).catch((function(t){console.log(t)}))}}}),B=T,E=(n("82e6"),Object(a["a"])(B,S,$,!1,null,"00508893",null)),P=E.exports,U=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("br"),n("div",[n("p",[t._v("content")]),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.content,expression:"content"}],attrs:{name:"",id:"",cols:"30",rows:"10"},domProps:{value:t.content},on:{input:function(e){e.target.composing||(t.content=e.target.value)}}}),n("br"),n("br"),n("button",{on:{click:t.EditBlog}},[t._v("submit")])])])},N=[],q={name:"edit-blog",data:function(){return{content:""}},props:{blog:{type:Object,requried:!0}},methods:{EditBlog:function(){var t=this;h.a.request({url:"http://lblog.ml/api/blog",method:"PATCH",headers:{"Content-Type":"application/json"},data:{content:this.content,blog_id:this.blog.id,token:f.a.get("loginToken")}}).then((function(e){console.log(e.data),t.newBlog=e.data;for(var n=0;n<t.$store.state.blogs.length;n++)t.$store.state.blogs[n].id==t.blog.id&&t.$set(t.$store.state.blogs[n],"content",t.content);t.$emit("editShow",!1)})).catch((function(t){console.log(t)}))}}},L=q,M=Object(a["a"])(L,U,N,!1,null,"28976941",null),A=M.exports,D={components:{editBlog:A,DeleteBlog:P},name:"single-blog",data:function(){return{if_edit:!1,if_owener:!1}},props:{blog:{type:Object,requried:!0}},methods:{IfEdit:function(){this.if_edit=!this.if_edit},checkOwener:function(){f.a.get("users").user_id==this.blog.user_id&&(this.if_owener=!0)},closeEdit:function(t){this.if_edit=t}},mounted:function(){this.checkOwener()}},G=D,H=(n("c6f9"),Object(a["a"])(G,O,j,!1,null,"064d19c4",null)),I=H.exports,V={components:{singleBlog:I},name:"view-blog",props:{blog:{type:Object,requried:!0}},methods:{ViewBlog:function(){var t=this;h.a.request({url:"http://lblog.ml/api/blog",method:"GET"}).then((function(e){console.log(e.data),t.$store.state.blogs=e.data})).catch((function(t){console.log(t)}))}},computed:{blogs:function(){return this.$store.getters.blogList}},mounted:function(){this.ViewBlog()}},J=V,W=(n("6433"),Object(a["a"])(J,C,x,!1,null,"799b6366",null)),z=W.exports,F={name:"Home",components:{ViewBlog:z,NewBlog:y},data:function(){return{loginStatus:!1}},methods:{checkLogin:function(){console.log(f.a.get("loginToken")),void 0!=f.a.get("loginToken")?(console.log("1"),this.loginStatus=!0):this.$router.push("/login"),console.log(this.loginStatus)},logout:function(){f.a.remove("loginToken"),this.$router.push("/login")}},mounted:function(){this.checkLogin()}},K=F,Q=(n("bfe0"),Object(a["a"])(K,p,d,!1,null,"46b5e9d6",null)),R=Q.exports,X=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"login"},[n("h2",[t._v("Login")]),n("p",[t._v("username")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],attrs:{type:"text"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}}),n("p",[t._v("password")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"text"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),n("br"),n("br"),n("button",{on:{click:t.login}},[t._v("Login")]),n("button",{on:{click:t.signUpShow}},[t._v("Sign Up")]),t.signUp_appear?n("sign-up",{on:{disappear:t.signUpShow}}):t._e()],1)},Y=[],Z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"sign-up"},[t.success?n("div",{staticClass:"success"},[n("h2",[t._v("Sign Up Successfull!")])]):n("div",{staticClass:"chart"},[n("h2",[t._v("Sign Up")]),n("p",[t._v("username")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],attrs:{type:"text"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}}),n("p",[t._v("password")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"text"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),n("br"),n("br"),n("button",{on:{click:t.SignUp}},[t._v("SIGN UP")]),n("button",{on:{click:t.back}},[t._v("Back")])])])},tt=[],et={name:"sign-up",data:function(){return{username:"",password:"",success:!1}},methods:{SignUp:function(){var t=this;h.a.request({url:"http://lblog.ml/api/users",method:"POST",headers:{"Content-Type":"application/json"},data:{username:this.username,password:this.password}}).then((function(e){console.log(e.data),t.success=!0,setTimeout((function(){t.back()}),500)})).catch((function(t){console.log(t)}))},back:function(){this.$emit("disappear")}}},nt=et,ot=(n("c536"),Object(a["a"])(nt,Z,tt,!1,null,"7ec59800",null)),st=ot.exports,it={components:{signUp:st},data:function(){return{username:"",password:"",signUp_appear:!1}},methods:{login:function(){var t=this;h.a.request({url:"http://lblog.ml/api/login",method:"POST",headers:{"Content-Type":"application/json"},data:{username:this.username,password:this.password}}).then((function(e){console.log(e.data),f.a.set("users",e.data),f.a.set("loginToken",e.data.token),t.$router.push("/")})).catch((function(t){console.log(t)}))},signUpShow:function(){this.signUp_appear=!this.signUp_appear}}},at=it,lt=(n("989f"),Object(a["a"])(at,X,Y,!1,null,"6c0c67aa",null)),rt=lt.exports;o["a"].use(u["a"]);var ct=[{path:"/",name:"Home",component:R},{path:"/login",name:"login-page",component:rt}],ut=new u["a"]({routes:ct}),pt=ut,dt=n("2f62");o["a"].use(dt["a"]);var gt=new dt["a"].Store({state:{blogs:[]},mutations:{fakeAdd:function(t,e){t.blogs.unshift(e)}},actions:{},modules:{},getters:{blogList:function(t){return t.blogs}}});o["a"].config.productionTip=!1,new o["a"]({router:pt,store:gt,render:function(t){return t(c)}}).$mount("#app")},"5c0b":function(t,e,n){"use strict";n("9c0c")},6009:function(t,e,n){},6433:function(t,e,n){"use strict";n("7d4b")},"7d4b":function(t,e,n){},"82e6":function(t,e,n){"use strict";n("2019")},"989f":function(t,e,n){"use strict";n("00f3")},"9c0c":function(t,e,n){},bfe0:function(t,e,n){"use strict";n("2aac")},c536:function(t,e,n){"use strict";n("cff0")},c6f9:function(t,e,n){"use strict";n("6009")},c713:function(t,e,n){},cff0:function(t,e,n){}});
//# sourceMappingURL=app.b9fbe144.js.map